---
name: verification-before-completion
description: 完成前強制驗證 - 禁止未驗證就宣稱完成。適用於 commit/PR/完成聲明前
triggers:
  - 完成
  - 修好了
  - 已修復
  - fixed
  - done
  - complete
  - commit
  - PR
  - 關閉 issue
---

# 完成前驗證 (Verification Before Completion)

## 核心原則

> **沒有驗證證據 = 不能宣稱完成**

## 鐵律

```
禁止在沒有新鮮驗證證據的情況下宣稱完成
```

如果你沒有在本次訊息中執行驗證命令，你不能宣稱它通過。

## 驗證流程

```
宣稱任何狀態前：

1. 識別：什麼命令能證明這個宣稱？
2. 執行：執行完整命令（新鮮的、完整的）
3. 閱讀：完整輸出、檢查退出碼、計算失敗數
4. 驗證：輸出是否確認宣稱？
   - 否：說明實際狀態並附上證據
   - 是：附上證據後再宣稱
5. 然後才能：做出宣稱

跳過任何步驟 = 撒謊，不是驗證
```

## 常見失敗

| 宣稱 | 需要 | 不充分 |
|------|------|--------|
| 測試通過 | 測試命令輸出：0 失敗 | 之前的執行、「應該通過」 |
| Build 成功 | Build 命令：exit 0 | Lint 通過、日誌看起來正常 |
| Bug 已修復 | 測試原始症狀：通過 | 代碼改了、假設修好了 |
| Chrome 驗證 | 截圖證據 | 代碼看起來對 |

## WordGym 專案驗證清單

### 修復 Issue 前
- [ ] `npm run build` 成功（exit 0）
- [ ] 本地 `npm run preview` 測試通過
- [ ] Chrome 截圖驗證（生產環境）

### 關閉 Issue 前
- [ ] 案主說「測試通過」
- [ ] 不是 AI 自己認為修好了

### 提交 PR 前
- [ ] Build 成功
- [ ] 相關功能 Chrome 驗證
- [ ] Issue 留言說明修復內容

## 違反後果

如果發現未驗證就宣稱完成：
1. 回滾宣稱
2. 執行完整驗證
3. 用證據重新報告

## 範例

### ❌ 錯誤
```
我已經修復了 Issue #52，代碼看起來正確。
```

### ✅ 正確
```
Issue #52 修復驗證：

1. npm run build
   ✓ built in 3.00s (exit 0)

2. Chrome 截圖驗證
   [截圖] 2 行格式正確顯示

3. 結論：✅ 驗證通過
```
